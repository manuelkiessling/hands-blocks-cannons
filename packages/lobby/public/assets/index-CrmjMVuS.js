(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const h={start:document.getElementById("start-screen"),botSettings:document.getElementById("bot-settings"),loading:document.getElementById("loading-screen"),gameReady:document.getElementById("game-ready"),error:document.getElementById("error-screen")};function s(e){for(const[r,n]of Object.entries(h))n&&n.classList.toggle("active",r===e)}let c=null;const B=document.getElementById("play-bot"),E=document.getElementById("play-human"),p=document.getElementById("back-from-bot"),I=document.getElementById("start-bot-game"),m=document.getElementById("difficulty"),f=document.getElementById("loading-text"),u=document.getElementById("share-section"),d=document.getElementById("share-url"),i=document.getElementById("copy-url"),L=document.getElementById("cancel-game"),b=document.getElementById("join-game"),g=document.getElementById("error-message"),v=document.getElementById("try-again");async function w(e,r){const n=await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponentType:e,botDifficulty:r})});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to create session")}return n.json()}async function S(e){await fetch(`/api/sessions/${e}`,{method:"DELETE"})}function x(){s("botSettings")}function C(){y("human")}function O(){s("start")}function j(){const e=m?Number(m.value)/100:.5;y("bot",e)}async function y(e,r){s("loading"),f&&(f.textContent="Creating game session...");try{c=await w(e,r),s("gameReady"),u&&d&&(e==="human"&&c.joinUrl?(u.classList.remove("hidden"),d.value=c.joinUrl):u.classList.add("hidden"))}catch(n){T(n instanceof Error?n.message:"An unexpected error occurred")}}function k(){d&&navigator.clipboard.writeText(d.value).then(()=>{const e=i?.textContent;i&&(i.textContent="âœ“",setTimeout(()=>{i.textContent=e??"ðŸ“‹"},2e3))})}async function G(){if(c){try{await S(c.sessionId)}catch{}c=null}s("start")}function P(){c&&(window.location.href=c.gameUrl)}function T(e){g&&(g.textContent=e),s("error")}function U(){c=null,s("start")}B?.addEventListener("click",x);E?.addEventListener("click",C);p?.addEventListener("click",O);I?.addEventListener("click",j);i?.addEventListener("click",k);L?.addEventListener("click",G);b?.addEventListener("click",P);v?.addEventListener("click",U);s("start");
//# sourceMappingURL=index-CrmjMVuS.js.map
