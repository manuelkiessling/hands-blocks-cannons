(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const h={start:document.getElementById("start-screen"),botSettings:document.getElementById("bot-settings"),loading:document.getElementById("loading-screen"),gameReady:document.getElementById("game-ready"),error:document.getElementById("error-screen")};function c(e){for(const[o,n]of Object.entries(h))n&&n.classList.toggle("active",o===e)}let s=null;const B=document.getElementById("play-bot"),p=document.getElementById("play-human"),I=document.getElementById("back-from-bot"),b=document.getElementById("start-bot-game"),f=document.getElementById("difficulty"),g=document.getElementById("loading-text"),m=document.getElementById("share-section"),l=document.getElementById("share-url"),a=document.getElementById("copy-url"),v=document.getElementById("cancel-game"),i=document.getElementById("join-game"),y=document.getElementById("error-message"),L=document.getElementById("try-again");async function w(e,o){const n=await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({opponentType:e,botDifficulty:o})});if(!n.ok){const d=await n.json();throw new Error(d.error||"Failed to create session")}return n.json()}async function C(e){await fetch(`/api/sessions/${e}`,{method:"DELETE"})}function S(){c("botSettings")}function x(){E("human")}function O(){c("start")}function A(){const e=f?Number(f.value)/100:.5;E("bot",e)}const T=4;async function E(e,o){c("loading"),g&&(g.textContent="Creating game session...");try{s=await w(e,o),c("gameReady"),m&&l&&(e==="human"&&s.joinUrl?(m.classList.remove("hidden"),l.value=s.joinUrl):m.classList.add("hidden")),j()}catch(n){k(n instanceof Error?n.message:"An unexpected error occurred")}}function j(){if(!i)return;i.setAttribute("disabled","true");let e=T;const o=()=>{i&&(i.textContent=`Preparing... ${e}s`)};o();const n=setInterval(()=>{e--,e<=0?(clearInterval(n),i&&(i.removeAttribute("disabled"),i.textContent="Join Game")):o()},1e3)}function G(){l&&navigator.clipboard.writeText(l.value).then(()=>{const e=a?.textContent;a&&(a.textContent="âœ“",setTimeout(()=>{a.textContent=e??"ðŸ“‹"},2e3))})}async function N(){if(s){try{await C(s.sessionId)}catch{}s=null}c("start")}function P(){s&&(window.location.href=s.gameUrl)}function k(e){y&&(y.textContent=e),c("error")}function U(){s=null,c("start")}B?.addEventListener("click",S);p?.addEventListener("click",x);I?.addEventListener("click",O);b?.addEventListener("click",A);a?.addEventListener("click",G);v?.addEventListener("click",N);i?.addEventListener("click",P);L?.addEventListener("click",U);c("start");
//# sourceMappingURL=index-BmTPzCSo.js.map
